// Test 8
// T3 reads original value of x2, T4 reads x2 written by T1, T5 reads x2 written by T2.
//
// all commit
begin(T1)
begin(T2)
beginRO(T3)
W(T1, x2, 100)
R(T3, x2)
end(T1)
R(T3, x2)
beginRO(T4)
R(T4, x2)
W(T2, x2, 50)
end(T2)
beginRO(T5)
R(T3, x2)
R(T4, x2)
R(T5, x2)
end(T3);end(T4);end(T5)

begin(T6)
begin(T7)
begin(T8)
W(T7, x6, 20)
W(T6, x8, 200)
W(T8, x10, 500)
R(T6, x6)
R(T7, x10)
R(T8, x8)
end(T7)
R(T6, x10)
R(T6, x8)
end(T6)

begin(T9); begin(T10); begin(T11)
fail(4)
R(T9, x3)

recover(4)
fail(1);fail(2);fail(3)
R(T9, x2)
W(T9, x2, 9)
end(T9)
R(T10, x2)
beginRO(T12)
fail(4);fail(5);fail(6);fail(7);fail(8);fail(9);fail(10)
R(T12, x2)
recover(5)
W(T11,x2,112)
end(T11)